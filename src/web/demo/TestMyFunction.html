<HTML>
<HEAD>
<TITLE>TestMyFunction.java</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<PRE><FONT COLOR="#009966"><STRONG>package</STRONG></FONT> com.mycompany.example1;

<FONT COLOR="#009966"><STRONG>import</STRONG></FONT> org.xins.util.service.TargetDescriptor;

<FONT COLOR="#009966"><STRONG>import</STRONG></FONT> com.mycompany.myproject.capi.CAPI;
<FONT COLOR="#009966"><STRONG>import</STRONG></FONT> com.mycompany.myproject.types.Gender;

<FONT COLOR="#6600cc">/**</FONT>
<FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">*</FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">Simple</FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">program</FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">that</FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">invoke</FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">MyFunction</FONT>
<FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">*/</FONT>
<FONT COLOR="#006699"><STRONG>public</STRONG></FONT> <FONT COLOR="#0099ff"><STRONG>class</STRONG></FONT> TestMyFunction <FONT COLOR="#000000"><STRONG>{</STRONG></FONT>

   <FONT COLOR="#6600cc">/**</FONT>
<FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">*</FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">Invokes</FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">MyFunction</FONT>
<FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">*</FONT>
<FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">*</FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#02b902">@param</FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">args</FONT>
<FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">*</FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">optional</FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">parameters</FONT><FONT COLOR="#6600cc">:</FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">args</FONT><FONT COLOR="#6600cc">[</FONT><FONT COLOR="#6600cc">0</FONT><FONT COLOR="#6600cc">]</FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">is</FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">the</FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">URL</FONT><FONT COLOR="#6600cc">,</FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">args</FONT><FONT COLOR="#6600cc">[</FONT><FONT COLOR="#6600cc">1</FONT><FONT COLOR="#6600cc">]</FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">is</FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">the</FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">gender</FONT><FONT COLOR="#6600cc">(</FONT><FONT COLOR="#6600cc">m</FONT><FONT COLOR="#6600cc">/</FONT><FONT COLOR="#6600cc">f</FONT><FONT COLOR="#6600cc">)</FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">and</FONT>
<FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">*</FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">args</FONT><FONT COLOR="#6600cc">[</FONT><FONT COLOR="#6600cc">2</FONT><FONT COLOR="#6600cc">]</FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">is</FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">the</FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">last</FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">name</FONT><FONT COLOR="#6600cc">.</FONT>
<FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc"> </FONT><FONT COLOR="#6600cc">*/</FONT>
   <FONT COLOR="#006699"><STRONG>public</STRONG></FONT> <FONT COLOR="#006699"><STRONG>final</STRONG></FONT> <FONT COLOR="#006699"><STRONG>static</STRONG></FONT> <FONT COLOR="#0099ff"><STRONG>void</STRONG></FONT> <FONT COLOR="#9966ff">main</FONT>(String[] args) <FONT COLOR="#006699"><STRONG>throws</STRONG></FONT> Exception <FONT COLOR="#000000"><STRONG>{</STRONG></FONT>

      String targetURL <FONT COLOR="#000000"><STRONG>=</STRONG></FONT> <FONT COLOR="#ff00cc">&quot;</FONT><FONT COLOR="#ff00cc">https://127.0.0.1:8080/my-project/</FONT><FONT COLOR="#ff00cc">&quot;</FONT>;
      <FONT COLOR="#006699"><STRONG>if</STRONG></FONT> (args.length <FONT COLOR="#000000"><STRONG>&gt;</STRONG></FONT> <FONT COLOR="#ff0000">0</FONT>) <FONT COLOR="#000000"><STRONG>{</STRONG></FONT>
         targetURL <FONT COLOR="#000000"><STRONG>=</STRONG></FONT> args[<FONT COLOR="#ff0000">0</FONT>];
      <FONT COLOR="#000000"><STRONG>}</STRONG></FONT>

      Gender.Item gender <FONT COLOR="#000000"><STRONG>=</STRONG></FONT> Gender.MALE;
      <FONT COLOR="#006699"><STRONG>if</STRONG></FONT> (args.length <FONT COLOR="#000000"><STRONG>&gt;</STRONG></FONT> <FONT COLOR="#ff0000">1</FONT>) <FONT COLOR="#000000"><STRONG>{</STRONG></FONT>
         gender <FONT COLOR="#000000"><STRONG>=</STRONG></FONT> Gender.<FONT COLOR="#9966ff">getItemByName</FONT>(args[<FONT COLOR="#ff0000">1</FONT>]);
      <FONT COLOR="#000000"><STRONG>}</STRONG></FONT>

      String lastName <FONT COLOR="#000000"><STRONG>=</STRONG></FONT> <FONT COLOR="#ff00cc">&quot;</FONT><FONT COLOR="#ff00cc">Lee</FONT><FONT COLOR="#ff00cc">&quot;</FONT>;
      <FONT COLOR="#006699"><STRONG>if</STRONG></FONT> (args.length <FONT COLOR="#000000"><STRONG>&gt;</STRONG></FONT> <FONT COLOR="#ff0000">2</FONT>) <FONT COLOR="#000000"><STRONG>{</STRONG></FONT>
         lastName <FONT COLOR="#000000"><STRONG>=</STRONG></FONT> args[<FONT COLOR="#ff0000">2</FONT>];
      <FONT COLOR="#000000"><STRONG>}</STRONG></FONT>

      <FONT COLOR="#ff8400">//</FONT><FONT COLOR="#ff8400"> </FONT><FONT COLOR="#ff8400">Create</FONT><FONT COLOR="#ff8400"> </FONT><FONT COLOR="#ff8400">the</FONT><FONT COLOR="#ff8400"> </FONT><FONT COLOR="#ff8400">descriptor</FONT><FONT COLOR="#ff8400"> </FONT><FONT COLOR="#ff8400">for</FONT><FONT COLOR="#ff8400"> </FONT><FONT COLOR="#ff8400">the</FONT><FONT COLOR="#ff8400"> </FONT><FONT COLOR="#ff8400">service</FONT><FONT COLOR="#ff8400"> </FONT><FONT COLOR="#ff8400">with</FONT><FONT COLOR="#ff8400"> </FONT><FONT COLOR="#ff8400">a</FONT><FONT COLOR="#ff8400"> </FONT><FONT COLOR="#ff8400">time-out</FONT><FONT COLOR="#ff8400"> </FONT><FONT COLOR="#ff8400">of</FONT><FONT COLOR="#ff8400"> </FONT><FONT COLOR="#ff8400">20</FONT><FONT COLOR="#ff8400"> </FONT><FONT COLOR="#ff8400">seconds</FONT>
      TargetDescriptor descriptor <FONT COLOR="#000000"><STRONG>=</STRONG></FONT>
         <FONT COLOR="#006699"><STRONG>new</STRONG></FONT> <FONT COLOR="#9966ff">TargetDescriptor</FONT>(targetURL, <FONT COLOR="#ff0000">20000</FONT>);

      <FONT COLOR="#ff8400">//</FONT><FONT COLOR="#ff8400"> </FONT><FONT COLOR="#ff8400">Create</FONT><FONT COLOR="#ff8400"> </FONT><FONT COLOR="#ff8400">the</FONT><FONT COLOR="#ff8400"> </FONT><FONT COLOR="#ff8400">CAPI</FONT><FONT COLOR="#ff8400"> </FONT><FONT COLOR="#ff8400">instance</FONT>
      CAPI project <FONT COLOR="#000000"><STRONG>=</STRONG></FONT> <FONT COLOR="#006699"><STRONG>new</STRONG></FONT> <FONT COLOR="#9966ff">CAPI</FONT>(descriptor);

      <FONT COLOR="#ff8400">//</FONT><FONT COLOR="#ff8400"> </FONT><FONT COLOR="#ff8400">Invoke</FONT><FONT COLOR="#ff8400"> </FONT><FONT COLOR="#ff8400">the</FONT><FONT COLOR="#ff8400"> </FONT><FONT COLOR="#ff8400">function</FONT>
      String message <FONT COLOR="#000000"><STRONG>=</STRONG></FONT> project.<FONT COLOR="#9966ff">callMyFunction</FONT>(gender, lastName).<FONT COLOR="#9966ff">getMessage</FONT>();

      <FONT COLOR="#ff8400">//</FONT><FONT COLOR="#ff8400"> </FONT><FONT COLOR="#ff8400">No</FONT><FONT COLOR="#ff8400"> </FONT><FONT COLOR="#ff8400">exceptions</FONT><FONT COLOR="#ff8400"> </FONT><FONT COLOR="#ff8400">thown</FONT>
      System.out.<FONT COLOR="#9966ff">println</FONT>(<FONT COLOR="#ff00cc">&quot;</FONT><FONT COLOR="#ff00cc">Call</FONT><FONT COLOR="#ff00cc"> </FONT><FONT COLOR="#ff00cc">successful.</FONT><FONT COLOR="#ff00cc"> </FONT><FONT COLOR="#ff00cc">Message:</FONT><FONT COLOR="#ff00cc"> </FONT><FONT COLOR="#ff00cc">&quot;</FONT> <FONT COLOR="#000000"><STRONG>+</STRONG></FONT> message);
   <FONT COLOR="#000000"><STRONG>}</STRONG></FONT>
<FONT COLOR="#000000"><STRONG>}</STRONG></FONT>

</PRE></BODY>
</HTML>
